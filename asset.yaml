# BUCKET - Spotify-User
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-user
spec:
  title: Spotify-User
  description: Describe your new bucket
  icon: contactless
  primary: username
  readOnly: false
  history: false
  properties:
    username:
      type: string
      title: username
      description: Description of the username input
      options:
        position: bottom
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    surname:
      type: string
      title: surname
      description: Description of the surname input
      options:
        position: bottom
    identity_id:
      type: string
      title: identity_id
      description: Description of the identity_id input
      options:
        position: bottom
    mail:
      type: string
      title: mail
      description: Description of the mail input
      options:
        position: bottom
    bio:
      type: textarea
      title: bio
      description: Description of the bio input
      options:
        position: bottom
    birthday:
      type: date
      title: birthday
      description: Description of the birthday input
      options:
        position: bottom
    gender:
      type: string
      title: gender
      description: Description of the gender input
      options:
        position: bottom
      enum:
        - Male
        - Female
        - other
    langue:
      type: string
      title: language
      description: Description of the langue input
      options:
        position: bottom
      enum:
        - English
        - Türkçe
        - Français
        - Español
        - Deutsch
    profile_picture:
      type: storage
      title: profile_picture
      description: Description of the profile_picture input
      options:
        position: bottom
    isverified:
      type: boolean
      title: isverified
      description: Description of the isverified input
      options:
        position: bottom
      default: false
  acl:
    write: auth._id == document.identity_id || auth.identifier == "spica"
    read: true==true
  order: 9
---
# BUCKET - Spotify-Singer
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-singer
spec:
  title: Spotify-Singer
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    surname:
      type: string
      title: surname
      description: Description of the surname input
      options:
        position: bottom
    identity_id:
      type: string
      title: identity_id
      description: Description of the identity_id input
      options:
        position: bottom
    profile_pictures:
      type: array
      title: profile_pictures
      description: Description of the profile_pictures input
      options:
        position: bottom
      items:
        title: Title of the items
        type: storage
    birthday:
      type: date
      title: birthday
      description: Description of the birthday input
      options:
        position: bottom
    bio:
      type: textarea
      title: bio
      description: Description of the bio input
      options:
        position: bottom
    isverified:
      type: boolean
      title: isverified
      description: Description of the isverified input
      options:
        position: bottom
      default: false
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
  acl:
    write: auth._id == document.identity_id || auth.identifier == "spica"
    read: true==true
  order: 10
---
# BUCKET - Spotify-Music
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-music
spec:
  title: Spotify-Music
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    description:
      type: textarea
      title: description
      description: Description of the description input
      options:
        position: bottom
    createdat:
      type: date
      title: created_at
      description: Description of the createdat input
      options:
        position: bottom
      default: :created_at
    cover:
      type: storage
      title: cover
      description: Description of the cover input
      options:
        position: bottom
    sourc:
      type: storage
      title: source
      description: Description of the sourc input
      options:
        position: bottom
    clip:
      type: storage
      title: clip
      description: Description of the clip input
      options:
        position: bottom
    listened_count:
      type: number
      title: listened_count
      description: Description of the listened_count input
      options:
        position: bottom
      minimum: 0
    features:
      type: object
      title: features
      description: Description of the Features input
      options:
        position: bottom
      properties:
        danceability:
          type: number
          title: danceability
          description: Description of the danceability input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        loudness:
          type: number
          title: loudness
          description: Description of the loudness input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        speechiness:
          type: number
          title: speechiness
          description: Description of the speechiness input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        energy:
          type: number
          title: energy
          description: Description of the energy input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        tempo:
          type: number
          title: tempo
          description: Description of the tempo input
          options:
            position: bottom
          maximum: 100
          minimum: 0
        duration:
          type: number
          title: duration
          description: Description of the duration input
          options:
            position: bottom
          minimum: 0
        popularity:
          type: number
          title: popularity
          description: Description of the popularity input
          options:
            position: bottom
          maximum: 100
          minimum: 0
        kind:
          type: multiselect
          title: kind
          description: Description of the kind input
          options:
            position: bottom
          items:
            type: string
            enum:
              - Rap
              - Caz
              - Classic
              - Hiphop
              - Pop
              - Rock
        available_country:
          type: multiselect
          title: available_country
          description: Description of the available_country input
          options:
            position: bottom
          items:
            type: string
            enum:
              - English
              - Türkçe
              - Français
              - Español
              - Deutsch
        explicit:
          type: boolean
          title: explicit
          description: Description of the explicit input
          options:
            position: bottom
          default: false
        language:
          type: string
          title: language
          description: Description of the language input
          options:
            position: bottom
          enum:
            - English
            - Türkçe
            - Français
            - Español
            - Deutsch
      readOnly: false
  acl:
    write: auth._id == document.singer.identity_id || auth._id ==
      document.user.identity_id
    read: true == true
  order: 11
  required: []
---
# BUCKET - Spotify-Album
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-album
spec:
  title: Spotify-Album
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    cover:
      type: storage
      title: cover
      description: Description of the cover input
      options:
        position: bottom
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
  acl:
    write: auth._id == document.singer.identity_id || auth._id ==
      document.user.identity_id
    read: true==true
  order: 12
---
# BUCKET - Spotify-Playlist
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-playlist
spec:
  title: Spotify-Playlist
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    image:
      type: storage
      title: image
      description: Description of the image input
      options:
        position: bottom
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
    private:
      type: boolean
      title: private
      description: Description of the private input
      options:
        position: bottom
      default: false
  acl:
    write: auth._id == document.owner.identity_id ||
      some(document.admins.identity_id, [auth._id])
    read: "!private || some(document.admins.identity_id, [auth._id])"
  order: 13
---
# BUCKET - Spotify-User
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-user
spec:
  title: Spotify-User
  description: Describe your new bucket
  icon: contactless
  primary: username
  readOnly: false
  history: false
  properties:
    username:
      type: string
      title: username
      description: Description of the username input
      options:
        position: bottom
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    surname:
      type: string
      title: surname
      description: Description of the surname input
      options:
        position: bottom
    identity_id:
      type: string
      title: identity_id
      description: Description of the identity_id input
      options:
        position: bottom
    mail:
      type: string
      title: mail
      description: Description of the mail input
      options:
        position: bottom
    bio:
      type: textarea
      title: bio
      description: Description of the bio input
      options:
        position: bottom
    birthday:
      type: date
      title: birthday
      description: Description of the birthday input
      options:
        position: bottom
    gender:
      type: string
      title: gender
      description: Description of the gender input
      options:
        position: bottom
      enum:
        - Male
        - Female
        - other
    langue:
      type: string
      title: language
      description: Description of the langue input
      options:
        position: bottom
      enum:
        - English
        - Türkçe
        - Français
        - Español
        - Deutsch
    profile_picture:
      type: storage
      title: profile_picture
      description: Description of the profile_picture input
      options:
        position: bottom
    isverified:
      type: boolean
      title: isverified
      description: Description of the isverified input
      options:
        position: bottom
      default: false
    followeds:
      type: relation
      title: followed_singers
      description: Description of the followeds input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-singer
    friends:
      type: relation
      title: friends
      description: Description of the friends input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
    uploaded_music:
      type: relation
      title: uploaded_musics
      description: Description of the uploaded_music input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music
    uploaded_albums:
      type: relation
      title: uploaded_albums
      description: Description of the uploaded_albums input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-album
    playlist:
      type: relation
      title: uploaded_playlists
      description: Description of the playlist input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-playlist
    last_listened:
      type: relation
      title: last_listeneds
      description: Description of the last_listened input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music
    currently_playing:
      type: relation
      title: currently_playing
      description: Description of the currently_playing input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music
    playlist_admin:
      type: relation
      title: playlist_admin
      description: Description of the playlist_admin input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-playlist
    liked_musics:
      type: relation
      title: liked_musics
      description: Description of the liked_musics input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music
    liked_albums:
      type: relation
      title: liked_albums
      description: Description of the liked_albums input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-album
    liked_playlists:
      type: relation
      title: liked_playlists
      description: Description of the liked_playlists input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-playlist
  acl:
    write: auth._id == document.identity_id || auth.identifier == "spica"
    read: true==true
  order: 9
---
# BUCKET - Spotify-Singer
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-singer
spec:
  title: Spotify-Singer
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    surname:
      type: string
      title: surname
      description: Description of the surname input
      options:
        position: bottom
    identity_id:
      type: string
      title: identity_id
      description: Description of the identity_id input
      options:
        position: bottom
    profile_pictures:
      type: array
      title: profile_pictures
      description: Description of the profile_pictures input
      options:
        position: bottom
      items:
        title: Title of the items
        type: storage
    birthday:
      type: date
      title: birthday
      description: Description of the birthday input
      options:
        position: bottom
    bio:
      type: textarea
      title: bio
      description: Description of the bio input
      options:
        position: bottom
    isverified:
      type: boolean
      title: isverified
      description: Description of the isverified input
      options:
        position: bottom
      default: false
    uploaded_musics:
      type: relation
      title: uploaded_musics
      description: Description of the uploaded_musics input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music
    uploaded_albums:
      type: relation
      title: uploaded_albums
      description: Description of the uploaded_albums input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-album
    followers:
      type: relation
      title: followers
      description: Description of the followers input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
  acl:
    write: auth._id == document.identity_id || auth.identifier == "spica"
    read: true==true
  order: 10
---
# BUCKET - Spotify-Music
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-music
spec:
  title: Spotify-Music
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    description:
      type: textarea
      title: description
      description: Description of the description input
      options:
        position: bottom
    createdat:
      type: date
      title: created_at
      description: Description of the createdat input
      options:
        position: bottom
      default: :created_at
    cover:
      type: storage
      title: cover
      description: Description of the cover input
      options:
        position: bottom
    sourc:
      type: storage
      title: source
      description: Description of the sourc input
      options:
        position: bottom
    clip:
      type: storage
      title: clip
      description: Description of the clip input
      options:
        position: bottom
    singer:
      type: relation
      title: singer
      description: Description of the singer input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-singer
    user:
      type: relation
      title: user
      description: Description of the user input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
    album:
      type: relation
      title: album
      description: Description of the album input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-album
    like:
      type: relation
      title: likes
      description: Description of the like input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
    listened_count:
      type: number
      title: listened_count
      description: Description of the listened_count input
      options:
        position: bottom
      minimum: 0
    features:
      type: object
      title: features
      description: Description of the Features input
      options:
        position: bottom
      properties:
        danceability:
          type: number
          title: danceability
          description: Description of the danceability input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        loudness:
          type: number
          title: loudness
          description: Description of the loudness input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        speechiness:
          type: number
          title: speechiness
          description: Description of the speechiness input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        energy:
          type: number
          title: energy
          description: Description of the energy input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        tempo:
          type: number
          title: tempo
          description: Description of the tempo input
          options:
            position: bottom
          maximum: 100
          minimum: 0
        duration:
          type: number
          title: duration
          description: Description of the duration input
          options:
            position: bottom
          minimum: 0
        popularity:
          type: number
          title: popularity
          description: Description of the popularity input
          options:
            position: bottom
          maximum: 100
          minimum: 0
        kind:
          type: multiselect
          title: kind
          description: Description of the kind input
          options:
            position: bottom
          items:
            type: string
            enum:
              - Rap
              - Caz
              - Classic
              - Hiphop
              - Pop
              - Rock
        available_country:
          type: multiselect
          title: available_country
          description: Description of the available_country input
          options:
            position: bottom
          items:
            type: string
            enum:
              - English
              - Türkçe
              - Français
              - Español
              - Deutsch
        explicit:
          type: boolean
          title: explicit
          description: Description of the explicit input
          options:
            position: bottom
          default: false
        language:
          type: string
          title: language
          description: Description of the language input
          options:
            position: bottom
          enum:
            - English
            - Türkçe
            - Français
            - Español
            - Deutsch
      readOnly: false
  acl:
    write: auth._id == document.singer.identity_id || auth._id ==
      document.user.identity_id
    read: true == true
  order: 11
  required: []
---
# BUCKET - Spotify-Album
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-album
spec:
  title: Spotify-Album
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    cover:
      type: storage
      title: cover
      description: Description of the cover input
      options:
        position: bottom
    musics:
      type: relation
      title: musics
      description: Description of the Musics input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    like:
      type: relation
      title: likes
      description: Description of the like input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
    singer:
      type: relation
      title: singer
      description: Description of the singer input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-singer
    user:
      type: relation
      title: user
      description: Description of the user input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
  acl:
    write: auth._id == document.singer.identity_id || auth._id ==
      document.user.identity_id
    read: true==true
  order: 12
---
# BUCKET - Spotify-Playlist
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-playlist
spec:
  title: Spotify-Playlist
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    image:
      type: storage
      title: image
      description: Description of the image input
      options:
        position: bottom
    musics:
      type: relation
      title: musics
      description: Description of the musics input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
    owner:
      type: relation
      title: owner
      description: Description of the owner input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
    admins:
      type: relation
      title: admins
      description: Description of the admins input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
    likes:
      type: relation
      title: likes
      description: Description of the likes input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-user
    private:
      type: boolean
      title: private
      description: Description of the private input
      options:
        position: bottom
      default: false
  acl:
    write: auth._id == document.owner.identity_id ||
      some(document.admins.identity_id, [auth._id])
    read: "!private || some(document.admins.identity_id, [auth._id])"
  order: 13